{% extends 'base.html.twig' %}

{% block body %}
    <h1 class="text-2xl font-bold mb-4 dark:text-white">Tableau de bord</h1>

    <!-- Navigation des onglets -->
    <div class="mb-4">
        <div class="flex space-x-4">
            <button id="stats-tab" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600">Statistiques</button>
            <button id="users-tab" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600">Utilisateurs</button>
            <button id="brands-tab" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600">Marques</button>
        </div>
    </div>

    <!-- Contenu des onglets -->
    <div id="stats-content" class="tab-content">
        <h2 class="text-xl font-semibold dark:text-white">Statistiques</h2>
        <p class="dark:text-gray-300">Voici les statistiques de votre garde-robe.</p>
        <!-- Ajoutez vos stats ici -->
    </div>

    <div id="users-content" class="tab-content hidden">
        <h2 class="text-xl font-semibold dark:text-white">Utilisateurs</h2>
        <p class="dark:text-gray-300">Voici la liste des utilisateurs.</p>
        <!-- Liste des utilisateurs -->
        {% for user in users %}
            <div class="border p-4 rounded-lg shadow-lg mb-4 bg-white dark:bg-gray-800 dark:text-gray-300">
                <h3 class="font-semibold">{{ user.username }}</h3>
                <p>{{ user.email }}</p>
            </div>
        {% endfor %}
    </div>

    <div id="brands-content" class="tab-content hidden">
        <h2 class="text-xl font-semibold dark:text-white">Marques</h2>
        <p class="dark:text-gray-300">Voici la liste des marques disponibles.</p>
        <!-- Liste des marques -->
        {% for brand in brands %}
            <div class="border p-4 rounded-lg shadow-lg mb-4 bg-white dark:bg-gray-800 dark:text-gray-300">
                <h3 class="font-semibold">{{ brand.name }}</h3>
                <p>{{ brand.website ? brand.website : 'Site non spécifié' }}</p>
            </div>
        {% endfor %}
    </div>

    <div class="mt-6">
        <h2 class="text-xl font-semibold dark:text-white mb-4">Ajouter un nouveau vêtement</h2>
        {{ form_start(formClothingItem) }}
            <div class="space-y-4">
                <div>
                    {{ form_label(formClothingItem.name, 'Nom du vêtement', {'attr': {'class': 'text-gray-700 dark:text-white'}}) }}
                    {{ form_widget(formClothingItem.name, {'attr': {'class': 'border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full'}}) }}
                </div>

                <div>
                    {{ form_label(formClothingItem.category, 'Catégorie', {'attr': {'class': 'text-gray-700 dark:text-white'}}) }}
                    {{ form_widget(formClothingItem.category, {'attr': {'class': 'border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full'}}) }}
                </div>

                <div>
                    {{ form_label(formClothingItem.image, 'Choisir une image', {'attr': {'class': 'text-gray-700 dark:text-white'}}) }}
                    {{ form_widget(formClothingItem.image, {'attr': {'class': 'border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full'}}) }}
                </div>

                <div>
                    {{ form_label(formClothingItem.brand, 'Marque', {'attr': {'class': 'text-gray-700 dark:text-white'}}) }}
                    {{ form_widget(formClothingItem.brand, {'attr': {'class': 'border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full'}}) }}
                </div>

                <button type="submit" class="bg-green-500 dark:bg-green-600 text-white p-2 rounded hover:bg-green-600 dark:hover:bg-green-500">
                    Ajouter le vêtement
                </button>
            </div>
        {{ form_end(formClothingItem) }}
    </div>

    <script>
        document.getElementById('stats-tab').addEventListener('click', function() {
            switchTab('stats');
        });

        document.getElementById('users-tab').addEventListener('click', function() {
            switchTab('users');
        });

        document.getElementById('brands-tab').addEventListener('click', function() {
            switchTab('brands');
        });

        function switchTab(tab) {
            const tabs = ['stats', 'users', 'brands'];
            tabs.forEach(function(tabId) {
                document.getElementById(tabId + '-content').classList.add('hidden');
                document.getElementById(tabId + '-tab').classList.remove('bg-blue-600');
            });

            document.getElementById(tab + '-content').classList.remove('hidden');
            document.getElementById(tab + '-tab').classList.add('bg-blue-600');
        }
    </script>

{% endblock %}
