{% extends 'base.html.twig' %}

{% block body %}
    <h1 class="text-2xl font-bold mb-4 dark:text-white">Garde Robe</h1>

    {% for clothingItem in clothingItems %}
        <div class="border p-4 rounded-lg shadow-lg mb-4 bg-white dark:bg-gray-800 dark:text-gray-300">
            <h2 class="text-lg font-semibold dark:text-white">{{ clothingItem.name }}</h2>

            {% if clothingItem.image %}
                <img src="{{ asset(clothingItem.image) }}" alt="{{ clothingItem.name }}" class="w-32 h-32 object-cover mt-2">
            {% endif %}

            <p class="text-gray-600 dark:text-gray-400">Catégorie : {{ clothingItem.category }}</p>

            {% if clothingItem.brand %}
                {% if clothingItem.brand.website %}
                    <p class="text-blue-600 dark:text-blue-900">Marque : <a href="{{ clothingItem.brand.website }}" target="_blank" class="text-blue-500 hover:text-blue-700">{{ clothingItem.brand.name }}</a></p>
                {% else %}
                    <p class="text-gray-600 dark:text-gray-400">Marque : {{ clothingItem.brand.name }}</p>
                {% endif %}
            {% else %}
                <p class="text-gray-600 dark:text-gray-400">Marque : Non spécifiée</p>
            {% endif %}

            <form action="{{ path('delete_clothing_item', {'id': clothingItem.id}) }}" method="POST" class="mt-4">
                <button type="submit" class="bg-red-500 dark:bg-red-600 text-white px-4 py-2 rounded hover:bg-red-600 dark:hover:bg-red-500">
                    Supprimer
                </button>
            </form>
        </div>
    {% else %}
        <p class="dark:text-gray-300">Aucun vêtement disponible.</p>
    {% endfor %}

<div class="mt-6">
        <h2 class="text-xl font-semibold dark:text-white mb-4">Ajouter un nouveau vêtement</h2>
        <form action="{{ path('add_to_wardrobe_custom') }}" method="POST" enctype="multipart/form-data" class="space-y-4">
            <div>
                <label for="name" class="text-gray-700 dark:text-white">Nom du vêtement</label>
                <input type="text" name="name" id="name" required class="border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full" placeholder="Nom du vêtement">
            </div>

            <div>
                <label for="category" class="text-gray-700 dark:text-white">Catégorie</label>
                <input type="text" name="category" id="category" required class="border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full" placeholder="Catégorie">
            </div>

            <div>
                <label for="image" class="text-gray-700 dark:text-white">Choisir une image</label>
                <input type="file" name="image" id="image" required class="border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full">
            </div>

            <div>
                <label for="brand" class="text-gray-700 dark:text-white">Marque</label>
                <input type="text" name="brand" id="brand" required class="border p-2 rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 w-full" placeholder="Marque">
            </div>

            <button type="submit" class="bg-green-500 dark:bg-green-600 text-white p-2 rounded hover:bg-green-600 dark:hover:bg-green-500">
                Ajouter le vêtement
            </button>
        </form>
    </div>

{% endblock %}
